{"version":3,"sources":["../../../../app/admin/check-files/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\n\ninterface Product {\n  name: string\n  price: string\n  stripe_price_id: string\n  file_count: number\n  files: any\n}\n\nexport default function CheckFilesPage() {\n  const [products, setProducts] = useState<Product[]>([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    // Simulated data based on your SQL scripts\n    // Replace this with actual API call once database is accessible\n    const mockData: Product[] = [\n      {\n        name: \"The Manual\",\n        price: \"£47\",\n        stripe_price_id: \"price_1QlcbhP6WDp8gfEAjUQ8nz6G\",\n        file_count: 1,\n        files: \"The Manual-7Ux8cVqH0dYvH5pXGZQo8kKqLZMiQo.pdf\",\n      },\n      {\n        name: \"The Guides\",\n        price: \"£97\",\n        stripe_price_id: \"price_1QlcblP6WDp8gfEAmFLElhJQ\",\n        file_count: 1,\n        files: \"The Manual-7Ux8cVqH0dYvH5pXGZQo8kKqLZMiQo.pdf\",\n      },\n      {\n        name: \"Mastery\",\n        price: \"£197\",\n        stripe_price_id: \"price_1QlcblP6WDp8gfEAqUZEqaDv\",\n        file_count: 1,\n        files: \"The Manual-7Ux8cVqH0dYvH5pXGZQo8kKqLZMiQo.pdf\",\n      },\n    ]\n\n    setProducts(mockData)\n    setLoading(false)\n  }, [])\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-lg\">Loading...</div>\n      </div>\n    )\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-red-500\">{error}</div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-8\">\n      <div className=\"max-w-4xl mx-auto\">\n        <h1 className=\"text-3xl font-bold mb-8\">Course Files Check</h1>\n\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6\">\n          <h2 className=\"font-semibold text-yellow-800 mb-2\">⚠️ Issue Found</h2>\n          <p className=\"text-yellow-700\">\n            All three products currently point to the same single PDF file. You need to upload additional course\n            materials.\n          </p>\n        </div>\n\n        <div className=\"space-y-6\">\n          {products.map((product, index) => (\n            <div key={index} className=\"bg-white rounded-lg shadow p-6\">\n              <div className=\"flex justify-between items-start mb-4\">\n                <div>\n                  <h3 className=\"text-xl font-semibold\">{product.name}</h3>\n                  <p className=\"text-gray-600\">{product.price}</p>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"text-sm text-gray-500\">Files</div>\n                  <div className=\"text-2xl font-bold\">{product.file_count}</div>\n                </div>\n              </div>\n\n              <div className=\"mt-4\">\n                <h4 className=\"text-sm font-medium text-gray-700 mb-2\">Expected Files:</h4>\n                <ul className=\"text-sm text-gray-600 space-y-1\">\n                  {product.name === \"The Manual\" && <li>✅ The Manual PDF (1 file)</li>}\n                  {product.name === \"The Guides\" && (\n                    <>\n                      <li>❌ The Manual PDF</li>\n                      <li>❌ 7 Additional Guide PDFs (8 files total needed)</li>\n                    </>\n                  )}\n                  {product.name === \"Mastery\" && (\n                    <>\n                      <li>❌ The Manual PDF</li>\n                      <li>❌ 7 Guide PDFs</li>\n                      <li>❌ 14 Mastery Modules (22 files total needed)</li>\n                    </>\n                  )}\n                </ul>\n              </div>\n\n              <div className=\"mt-4 p-3 bg-gray-50 rounded\">\n                <div className=\"text-xs text-gray-500 mb-1\">Current File:</div>\n                <div className=\"text-sm font-mono text-gray-700 break-all\">\n                  {typeof product.files === \"string\" ? product.files : JSON.stringify(product.files)}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        <div className=\"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6\">\n          <h2 className=\"font-semibold text-blue-800 mb-2\">Next Steps</h2>\n          <ol className=\"list-decimal list-inside space-y-2 text-blue-700\">\n            <li>\n              Go to{\" \"}\n              <a href=\"/admin/setup\" className=\"underline font-medium\">\n                /admin/setup\n              </a>{\" \"}\n              to upload your course files\n            </li>\n            <li>Upload all PDFs for each tier (The Guides needs 7 more, Mastery needs 21 more)</li>\n            <li>The system will automatically update the database with the correct file URLs</li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}