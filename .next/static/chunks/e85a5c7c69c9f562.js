(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67881,94237,e=>{"use strict";var t=e.i(29511),s=e.i(3025),r=e.i(7284);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=r.clsx,d=(e,t)=>s=>{var r;if((null==t?void 0:t.variants)==null)return i(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:d,defaultVariants:n}=t,l=Object.keys(d).map(e=>{let t=null==s?void 0:s[e],r=null==n?void 0:n[e];if(null===t)return null;let i=a(t)||a(r);return d[e][i]}),c=s&&Object.entries(s).reduce((e,t)=>{let[s,r]=t;return void 0===r||(e[s]=r),e},{});return i(e,l,null==t||null==(r=t.compoundVariants)?void 0:r.reduce((e,t)=>{let{class:s,className:r,...a}=t;return Object.entries(a).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...n,...c}[t]):({...n,...c})[t]===s})?[...e,s,r]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)};e.s(["cva",0,d],94237);var n=e.i(47163);let l=d("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function c({className:e,variant:r,size:a,asChild:i=!1,...d}){let c=i?s.Slot:"button";return(0,t.jsx)(c,{"data-slot":"button",className:(0,n.cn)(l({variant:r,size:a,className:e})),...d})}e.s(["Button",()=>c],67881)},90768,e=>{"use strict";let t=(0,e.i(10965).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],90768)},87524,e=>{"use strict";let t=(0,e.i(10965).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],87524)},70065,e=>{"use strict";var t=e.i(29511),s=e.i(47163);function r({className:e,variant:r="default",...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("flex flex-col gap-6 rounded-xl border py-6 shadow-sm","default"===r&&"bg-card text-card-foreground","dark"===r&&"bg-zinc-900/95 border-white/10 !text-white [&_p]:!text-white [&_li]:!text-white [&_span]:!text-white [&_a]:!text-white [&_div]:!text-white [&_ul]:!text-white [&_ol]:!text-white [&_small]:!text-white [&_label]:!text-white [&_button]:!text-white [&_h1]:!text-white [&_h2]:!text-white [&_h3]:!text-white [&_h4]:!text-white [&_strong]:!text-white",e),...a})}function a({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...r})}function i({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...r})}function d({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-sm",e),...r})}function n({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...r})}e.s(["Card",()=>r,"CardContent",()=>n,"CardDescription",()=>d,"CardHeader",()=>a,"CardTitle",()=>i])},35301,e=>{"use strict";let t=(0,e.i(10965).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],35301)},84762,e=>{"use strict";var t=e.i(29511),s=e.i(47163);function r({className:e,...r}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,s.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...r})}e.s(["Textarea",()=>r])},5547,e=>{"use strict";var t=e.i(29511),s=e.i(58138),r=e.i(67881),a=e.i(70065),i=e.i(84762),d=e.i(94237),n=e.i(47163);let l=(0,d.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function c({className:e,variant:s,...r}){return(0,t.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,n.cn)(l({variant:s}),e),...r})}function o({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"alert-description",className:(0,n.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...s})}var u=e.i(35301),h=e.i(90768),m=e.i(87524);let x=(0,e.i(10965).default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var p=e.i(72809);function g(){let[e,d]=(0,s.useState)("check"),[n,l]=(0,s.useState)(!1),[g,f]=(0,s.useState)(!1),[v,T]=(0,s.useState)(""),[N,b]=(0,s.useState)(""),[E,y]=(0,s.useState)(""),[j,C]=(0,s.useState)(!1),[S,I]=(0,s.useState)(""),[L,w]=(0,s.useState)(""),[A,R]=(0,s.useState)([]),k=e=>{console.log("[v0]",e),R(t=>[...t,`${new Date().toLocaleTimeString()}: ${e}`])};(0,s.useEffect)(()=>{O()},[]);let O=async()=>{l(!0),w(""),I(""),k("Checking database...");try{let e=await fetch("/api/check-database",{method:"POST"});k(`Database check response status: ${e.status}`);let t=await e.json();k(`Database ready: ${t.ready}`),t.ready?(d("files"),I("Database is ready! Now add your product files.")):d("sql")}catch(t){let e=t instanceof Error?t.message:"Unknown error";k(`Database check error: ${e}`),w("Failed to check database")}finally{l(!1)}},U=async()=>{R([]),k("=== SAVE FILES CLICKED ==="),C(!0),w(""),I("");try{let e=[];if(v.trim()){let t=v.split("\n").filter(e=>e.trim());k(`Product 1 (Manual): ${t.length} URLs found`),e.push({productId:1,urls:t,promise:fetch("/api/update-product-urls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:1,urls:t})})})}else k("Product 1 (Manual): No URLs provided");if(N.trim()){let t=N.split("\n").filter(e=>e.trim());k(`Product 2 (Guides): ${t.length} URLs found`),e.push({productId:2,urls:t,promise:fetch("/api/update-product-urls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:2,urls:t})})})}else k("Product 2 (Guides): No URLs provided");if(E.trim()){let t=E.split("\n").filter(e=>e.trim());k(`Product 3 (Mastery): ${t.length} URLs found`),e.push({productId:3,urls:t,promise:fetch("/api/update-product-urls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:3,urls:t})})})}else k("Product 3 (Mastery): No URLs provided");if(0===e.length){k("ERROR: No URLs provided for any product"),w("Please add at least one product's URLs");return}k(`Sending ${e.length} API requests...`);let t=await Promise.all(e.map(e=>e.promise));for(let s=0;s<t.length;s++){let r=t[s],a=e[s].productId;if(k(`Product ${a} response status: ${r.status}`),r.ok){let e=await r.json();k(`Product ${a} success: ${JSON.stringify(e)}`)}else{let e=await r.json();throw k(`Product ${a} error: ${JSON.stringify(e)}`),Error(e.error||`Failed to update Product ${a}`)}}k("=== ALL FILES SAVED SUCCESSFULLY ==="),I("All files saved! Your store is ready.")}catch(t){let e=t instanceof Error?t.message:"Unknown error";k(`FATAL ERROR: ${e}`),w(e)}finally{C(!1)}};return n?(0,t.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(h.Loader2,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Checking your database..."})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-background p-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-bold",children:"Kickcard Academy Setup"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Let's get your store ready in 2 simple steps"})]}),A.length>0&&(0,t.jsxs)(a.Card,{className:"border-blue-500",children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsx)(a.CardTitle,{className:"text-sm",children:"Debug Logs"})}),(0,t.jsx)(a.CardContent,{children:(0,t.jsx)("div",{className:"bg-black text-green-400 p-4 rounded font-mono text-xs max-h-64 overflow-y-auto space-y-1",children:A.map((e,s)=>(0,t.jsx)("div",{children:e},s))})})]}),"sql"===e&&(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsxs)(a.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(m.AlertCircle,{className:"h-5 w-5 text-yellow-500"}),"Step 1: Set Up Your Database"]}),(0,t.jsx)(a.CardDescription,{children:"Your database tables need to be created first"})]}),(0,t.jsxs)(a.CardContent,{className:"space-y-4",children:[(0,t.jsx)(c,{children:(0,t.jsxs)(o,{children:[(0,t.jsx)("strong",{children:"Quick Setup:"})," Copy the SQL below and run it in your Supabase dashboard"]})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"SQL Code:"}),(0,t.jsx)(r.Button,{onClick:()=>{let e=`-- Create customers table
CREATE TABLE IF NOT EXISTS customers (
  id BIGSERIAL PRIMARY KEY,
  email TEXT UNIQUE NOT NULL,
  name TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Create products table
CREATE TABLE IF NOT EXISTS products (
  id BIGSERIAL PRIMARY KEY,
  name TEXT NOT NULL,
  description TEXT,
  price INTEGER NOT NULL,
  file_url TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Create orders table
CREATE TABLE IF NOT EXISTS orders (
  id BIGSERIAL PRIMARY KEY,
  customer_id BIGINT REFERENCES customers(id),
  product_id BIGINT REFERENCES products(id),
  stripe_session_id TEXT UNIQUE,
  status TEXT DEFAULT 'pending',
  amount INTEGER NOT NULL,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Insert products
INSERT INTO products (id, name, description, price) VALUES
(1, 'The Manual', 'Complete guide to sneaker and card reselling fundamentals', 9700),
(2, 'The Guides', 'Advanced strategies and insider techniques', 29700),
(3, 'Mastery', 'Elite program with personal mentorship and community access', 99700)
ON CONFLICT (id) DO NOTHING;`;navigator.clipboard.writeText(e),f(!0),setTimeout(()=>f(!1),2e3)},variant:"outline",size:"sm",children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.Check,{className:"h-4 w-4 mr-2"}),"Copied!"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x,{className:"h-4 w-4 mr-2"}),"Copy SQL"]})})]}),(0,t.jsx)("pre",{className:"text-xs bg-muted p-4 rounded overflow-x-auto max-h-96",children:`-- Create customers table
CREATE TABLE IF NOT EXISTS customers (
  id BIGSERIAL PRIMARY KEY,
  email TEXT UNIQUE NOT NULL,
  name TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Create products table
CREATE TABLE IF NOT EXISTS products (
  id BIGSERIAL PRIMARY KEY,
  name TEXT NOT NULL,
  description TEXT,
  price INTEGER NOT NULL,
  file_url TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Create orders table
CREATE TABLE IF NOT EXISTS orders (
  id BIGSERIAL PRIMARY KEY,
  customer_id BIGINT REFERENCES customers(id),
  product_id BIGINT REFERENCES products(id),
  stripe_session_id TEXT UNIQUE,
  status TEXT DEFAULT 'pending',
  amount INTEGER NOT NULL,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- Insert products
INSERT INTO products (id, name, description, price) VALUES
(1, 'The Manual', 'Complete guide to sneaker and card reselling fundamentals', 9700),
(2, 'The Guides', 'Advanced strategies and insider techniques', 29700),
(3, 'Mastery', 'Elite program with personal mentorship and community access', 99700)
ON CONFLICT (id) DO NOTHING;`}),(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded space-y-2",children:[(0,t.jsx)("p",{className:"font-semibold text-blue-900",children:"How to run this:"}),(0,t.jsxs)("ol",{className:"text-sm text-blue-800 list-decimal list-inside space-y-1",children:[(0,t.jsx)("li",{children:'Click "Copy SQL" button above'}),(0,t.jsxs)("li",{children:["Go to"," ",(0,t.jsx)("a",{href:"https://supabase.com",target:"_blank",className:"underline",rel:"noreferrer",children:"supabase.com"})," ","and sign in"]}),(0,t.jsx)("li",{children:"Open your project → SQL Editor"}),(0,t.jsx)("li",{children:'Click "New Query"'}),(0,t.jsx)("li",{children:'Paste the SQL and click "Run"'}),(0,t.jsx)("li",{children:'Come back here and click "I\'ve Run the SQL"'})]})]}),(0,t.jsx)(r.Button,{onClick:O,className:"w-full",size:"lg",children:"I've Run the SQL - Check Again"})]})]})]}),"files"===e&&(0,t.jsxs)(t.Fragment,{children:[S&&(0,t.jsxs)(c,{children:[(0,t.jsx)(u.CheckCircle2,{className:"h-4 w-4"}),(0,t.jsx)(o,{children:S})]}),L&&(0,t.jsxs)(c,{variant:"destructive",children:[(0,t.jsx)(m.AlertCircle,{className:"h-4 w-4"}),(0,t.jsx)(o,{children:L})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsxs)(a.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(u.CheckCircle2,{className:"h-5 w-5 text-green-500"}),"Step 2: Add Your Product Files"]}),(0,t.jsx)(a.CardDescription,{children:"Paste your Vercel Blob URLs (one per line)"})]}),(0,t.jsxs)(a.CardContent,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Product 1: The Manual (£97)"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"1 file - Included in all tiers"}),(0,t.jsx)(i.Textarea,{placeholder:"https://...vercel-storage.com/The-Complete-Manual.pdf",value:v,onChange:e=>T(e.target.value),rows:2,className:"font-mono text-xs"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Product 2: The Guides (£297)"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"7 files - Buyers get Manual + Guides (8 total)"}),(0,t.jsx)(i.Textarea,{placeholder:"https://...vercel-storage.com/Guide-1.pdf https://...vercel-storage.com/Guide-2.pdf ...",value:N,onChange:e=>b(e.target.value),rows:8,className:"font-mono text-xs"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium",children:"Product 3: Mastery (£997)"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"14 files - Buyers get Manual + Guides + Mastery (22 total)"}),(0,t.jsx)(i.Textarea,{placeholder:"https://...vercel-storage.com/Mastery-1.pdf https://...vercel-storage.com/Mastery-2.pdf ...",value:E,onChange:e=>y(e.target.value),rows:15,className:"font-mono text-xs"})]}),(0,t.jsx)(r.Button,{onClick:U,disabled:j||!v&&!N&&!E,size:"lg",className:"w-full",children:j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save All Files"})]})]})]})]})})}e.s(["default",()=>g],5547)}]);